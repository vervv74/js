<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<style type="text/css">
		.active {
			background-color: red;
		}
		td {
			border: 1px solid black;
			width:50px;
			height: 50px;
		}
	</style>
</head>
<body>

</body>
<script>
	var arr = [1,2,3,4,5,6,7];
	var list = 0;
	var table = document.createElement('table');
	var p = document.createElement('p');
	var tr = document.createElement('tr');
	document.body.appendChild(table);
	document.body.appendChild(p);
	table.appendChild(tr);
	for (var i = 0; i < arr.length; i++){
	var td = document.createElement('td');
	td.innerHTML=arr[i];
	td.addEventListener('click', function active(){
	  if (this.classList.contains('active')){
		this.classList.remove('active');
		list--;
	  }
	  else{
	  	this.classList.add('active');
				list++;
	  }
	  p.innerHTML = 'Активировано '+list + ' ячеек';
	})
	tr.appendChild(td);
	}
</script>
</html>