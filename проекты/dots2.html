<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<style type="text/css">
    td{
     border: 1px solid grey;
    }

</style>
</body>
<script>
    var cellSize = 20 ;//размер ячейки
    var windowWidth = Math.floor(document.documentElement.clientWidth/cellSize); //количество столбцов
    var windowHeight = Math.floor(document.documentElement.clientHeight/cellSize)-10; //количество рядов
           console.log(windowWidth );
           var tdBlack = true;

console.log(windowHeight );
var table = document.createElement('table'); //строим таблицу
document.body.appendChild(table);
for (var i = 1; i <= windowHeight; i++){
    var tr = document.createElement('tr');
    tr.style.height = cellSize +'px';
    for(var j = 1; j <= windowWidth; j++){
        var td = document.createElement('td');
        td.style.width = cellSize +'px';
        td.dataset.y = i;
        td.dataset.x = j;
        td.addEventListener('click',func.bind(td));
        td.addEventListener('click',check.bind(td));
        tr.appendChild(td);
    }
    table.appendChild(tr);
}
//режим заполнения ячейки цветом
function func(){
if(!this.style.backgroundColor) {
        if(tdBlack)
    {this.style.backgroundColor = "black";
            tdBlack = false;
    }
    else {
        this.style.backgroundColor = "red";
        tdBlack = true;
    }
}
    else{console.log(this.style.backgroundColor);}
}
//проверка
function check(){
   // console.log(tableColor());
    var y = this.dataset.y;
    var x = this.dataset.x;
    console.log(y +' '+ x);
    var cellColor = this.style.backgroundColor;
    var set = {
    y: [
            [x-4, x-3, x-2, x-1, x],
            [x-3, x-2, x-1, x, x+1],
            [x-2, x-1, x, x+1, x+2],
            [x-2, x-1, x, x+1, x+2],
            [x-1, x, x+1, x+2, x+3],
            [x, x+1, x+2, x+3, x+4]
        ],
        x : [
            [y-4, y-3, y-2, y-1, y],
            [y-3, y-2, y-1, y, y+1],
            [y-2, y-1, y, y+1, y+2],
            [y-2, y-1, y, y+1, y+2],
            [y-1, y, y+1, y+2, y+3],
            [y, y+1, y+2, y+3, y+4]
        ]
};
    for (var i = 0; i < set.length; i++)
    {
        for (j = 0; j < set[i].length; j++ ){
            console.log(i+' '+j);
            console.log(set);
        }
    }
};
//заполнение массива цветов
    function tableColor(){
       var tableColorArray = {}; //объект для заполнения цветов
    var td = document.querySelectorAll('td');
      for (var i = 0; i < td.length; i++){
          tableColorArray[[td[i].dataset.y, td[i].dataset.x]] = td[i].style.backgroundColor;
     }
return tableColorArray;
    }
</script>
</html>